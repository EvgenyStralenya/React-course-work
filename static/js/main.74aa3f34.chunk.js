(this["webpackJsonpreact-course-work"]=this["webpackJsonpreact-course-work"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={button:"styles_button__2WSs1",searchOptionsButton:"styles_searchOptionsButton__3bugm",sortOptionsButton:"styles_sortOptionsButton__1qSTp",searchButton:"styles_searchButton__115rv",closeModalButton:"styles_closeModalButton__1UmwS",homeButton:"styles_homeButton__HUgTW",activeButton:"styles_activeButton__303YH"}},function(e,t,a){e.exports={container:"styles_container__zFTIn",modalWindow:"styles_modalWindow__3Kuob",fadeIn:"styles_fadeIn__bTdba",modalWindowContainer:"styles_modalWindowContainer__3dTU1",movieTitle:"styles_movieTitle__1I9eX",movieOverview:"styles_movieOverview__SN7J3",movieGenres:"styles_movieGenres__ByZcq",movieBudget:"styles_movieBudget__3D1fC",movieRating:"styles_movieRating__3urHa"}},function(e,t,a){e.exports={container:"styles_container__2Efk3",posterContainer:"styles_posterContainer__31dZM",posterWrapper:"styles_posterWrapper__PzC4z",movieDescription:"styles_movieDescription__205Jb",title:"styles_title__pGuhe",subtitle:"styles_subtitle__QGzpz"}},,,,function(e,t,a){e.exports={container:"styles_container__3MMav",wrapper:"styles_wrapper__1t8_M",errorMessage:"styles_errorMessage__2ipGP"}},function(e,t,a){e.exports={container:"styles_container__2Rif4",input:"styles_input__113WA",buttonPanel:"styles_buttonPanel__ye0qR",searchOptions:"styles_searchOptions__17xks"}},function(e,t,a){e.exports={container:"styles_container__3Ovmd",errorWrapper:"styles_errorWrapper__26wTC",codeError:"styles_codeError__2z1NG",textError:"styles_textError__3jacv"}},,,function(e,t,a){e.exports={container:"styles_container__2PJdh",sortOptions:"styles_sortOptions__2Da0C"}},function(e,t,a){e.exports={container:"styles_container__2uVUS",header:"styles_header__3hZKO",logo:"styles_logo__gDk44"}},,,,,function(e,t,a){e.exports={container:"styles_container__nTeNq",logo:"styles_logo__3knon"}},,,,,,function(e,t,a){e.exports=a(44)},,,,,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),s=(a(38),a(2)),i=a(9),l=a(3),u=a(12),_=a.n(u),p=function(e){var t=e.id,a=e.title,n=e.releaseDate,r=e.poster,c=e.genres;return o.a.createElement(i.b,{to:"/".concat(t)},o.a.createElement("div",{className:_.a.container},o.a.createElement("div",{className:_.a.posterWrapper},o.a.createElement("div",{className:_.a.posterContainer,style:{backgroundImage:"url(".concat(r,")")}})),o.a.createElement("div",{className:_.a.movieDescription},o.a.createElement("div",{className:_.a.title},o.a.createElement("h3",null,a.toUpperCase()),o.a.createElement("span",null,n.split("-")[0])),o.a.createElement("div",{className:_.a.subtitle},c.join(" & ")))))},E=a(16),d=a.n(E),m=function(){var e=Object(s.c)((function(e){return e.dataMovies})),t=Object(s.c)((function(e){return e.inputValue})),a=Object(s.c)((function(e){return e.searchOption})),r=Object(s.c)((function(e){return e.sortOption})),c=Object(s.c)((function(e){return e.error})),i=Object(s.b)(),l=!1;Object(n.useEffect)((function(){i({type:"GET_MOVIE_REQUEST"})}),[i]);var u=function(){var e=window.innerHeight,n=document.body.clientHeight,o=window.pageYOffset||document.documentElement.scrollTop;l||e+o>=n-200&&(i({type:"ADD_MOVIE_TO_STORE_REQUEST",payload:{inputValue:t,searchOption:a,sortOption:r}}),l=!l)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",u),function(){window.removeEventListener("scroll",u)}})),o.a.createElement("main",{className:d.a.container},c?o.a.createElement("div",{className:d.a.wrapper},o.a.createElement("div",{className:d.a.errorMessage},c)):o.a.createElement("div",{className:d.a.wrapper},e.map((function(e){var t=e.id,a=e.title,n=e.release_date,r=e.poster_path,c=e.genres;return o.a.createElement(p,{key:t,id:t,title:a,releaseDate:n,poster:r,genres:c})}))))},O=a(10),v=a.n(O),y=function(e){var t,a=e.children,n=e.onClick,r=e.type,c=e.isActive;switch(r){case"searchOptionsButton":t=v.a.searchOptionsButton;break;case"sortOptionsButton":t=v.a.sortOptionsButton;break;case"searchButton":t=v.a.searchButton;break;case"closeModalButton":t=v.a.closeModalButton;break;case"homeButton":t=v.a.homeButton;break;default:t=v.a.button}return o.a.createElement("button",{type:"button",className:"".concat(v.a.button," ").concat(t," ").concat(c?v.a.activeButton:""),onClick:n},a)},f=a(17),h=a.n(f),b=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.searchOption})),a=Object(s.c)((function(e){return e.inputValue})),n=Object(s.c)((function(e){return e.offsetMovie})),r=function(t){e({type:"CHANGE_STATE_SEARCH_OPTION",payload:t})};return o.a.createElement("form",{onSubmit:function(o){o.preventDefault(),e({type:"GET_MOVIE_REQUEST",payload:{inputValue:a,searchOption:t,offsetMovie:n}}),e({type:"RESET_STATE_SORT_OPTION"})},className:h.a.container},o.a.createElement("input",{onChange:function(t){e({type:"SET_INPUT_VALUE",payload:t.target.value})},className:h.a.input,placeholder:"Find your movie",value:a}),o.a.createElement("div",{className:h.a.buttonPanel},o.a.createElement("div",{className:h.a.searchOptions},o.a.createElement("span",null,"Search by"),o.a.createElement(y,{onClick:function(){return r("title")},type:"searchOptionsButton",isActive:"title"===t},"Title"),o.a.createElement(y,{onClick:function(){return r("genres")},type:"searchOptionsButton",isActive:"genres"===t},"Genre")),o.a.createElement(y,{onClick:function(){e({type:"GET_MOVIE_REQUEST",payload:{inputValue:a,searchOption:t,offsetMovie:n}}),e({type:"RESET_STATE_SORT_OPTION"})},type:"searchButton"},"Search")))},T=a(27),M=a.n(T),S=function(){return o.a.createElement("footer",{className:M.a.container},o.a.createElement("div",{className:M.a.logo},"Netflixroulette"))},g=a(11),j=a.n(g),N=function(){var e=Object(l.h)().id,t=Object(s.b)();Object(n.useEffect)((function(){t({type:"GET_MOVIE_BY_ID_REQUEST",payload:e})}),[t,e]);var a=Object(s.c)((function(e){return e.dataMovieById})),r=Object(l.g)();if(null!==a&&0===Object.keys(a).length)return o.a.createElement(l.a,{to:{pathname:"/not-found"}});var c=a||{},i=c.title,u=c.genres,_=void 0===u?[]:u,p=c.overview,E=c.poster_path,d=c.vote_average,m=c.budget;return o.a.createElement("div",{className:j.a.container},o.a.createElement("div",{className:j.a.modalWindow,style:{backgroundImage:"url(".concat(E,")")}},o.a.createElement("div",{className:j.a.modalWindowContainer},o.a.createElement("div",{className:j.a.movieTitle},i,o.a.createElement(y,{onClick:function(){t({type:"RESET_DATA_MOVIE_MODAL"}),r.goBack()},type:"closeModalButton"},"\xd7")),o.a.createElement("span",{className:j.a.movieGenres},_.join(" & ")),o.a.createElement("span",{className:j.a.movieOverview},p),o.a.createElement("span",{className:j.a.movieBudget},"Budget: ".concat(m,"$")),o.a.createElement("span",{className:j.a.movieRating},"Rating: ".concat(d)))))},I=a(21),B=a.n(I),C=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.inputValue})),a=Object(s.c)((function(e){return e.searchOption})),n=Object(s.c)((function(e){return e.sortOption})),r=Object(s.c)((function(e){return e.totalMovies})),c=function(n){e({type:"CHANGE_STATE_SORT_OPTION",payload:n}),e({type:"GET_MOVIE_REQUEST",payload:{inputValue:t,searchOption:a,sortOption:n}})};return o.a.createElement("div",{className:B.a.container},o.a.createElement("div",{className:B.a.movieCounter},"".concat(r," movies found")),o.a.createElement("div",{className:B.a.sortOptions},o.a.createElement("span",null,"Sort by:"),o.a.createElement(y,{onClick:function(){return c("release_date")},type:"sortOptionsButton",isActive:"release_date"===n},"Release date"),o.a.createElement(y,{onClick:function(){return c("vote_average")},type:"sortOptionsButton",isActive:"vote_average"===n},"Rating")))},R=a(22),w=a.n(R),A=function(){return o.a.createElement("div",{className:w.a.container},o.a.createElement("header",{className:w.a.header},o.a.createElement("div",{className:w.a.logo},"Netflixroulette"),o.a.createElement("span",null,"Find your movie"),o.a.createElement(b,null)),o.a.createElement(C,null),o.a.createElement(m,null),o.a.createElement(S,null),o.a.createElement(l.b,{path:"/:id",component:N}))},V=a(18),k=a.n(V),U=function(){return o.a.createElement("div",{className:k.a.container},o.a.createElement("div",{className:k.a.errorWrapper},o.a.createElement("span",{className:k.a.codeError},"404"),o.a.createElement("span",{className:k.a.textError},"Page not found"),o.a.createElement(i.b,{to:"/"},o.a.createElement(y,{type:"homeButton"},"Home"))))};function G(){return o.a.createElement("div",{className:"App"},o.a.createElement(l.d,null,o.a.createElement(l.b,{path:"/not-found",component:U}),o.a.createElement(l.b,{path:"/",component:A})))}var D=a(14),W=a(32),x=function(e,t,a,n,o){return fetch("https://reactjs-cdp.herokuapp.com/movies?sortBy=".concat(a,"&sortOrder=desc&search=").concat(e,"&searchBy=").concat(t,"&offset=").concat(n,"&limit=").concat(o)).then((function(e){return e.json()}))},P=a(28),H=a(4),Q={inputValue:"",searchOption:"title",sortOption:"",dataMovies:[],totalMovies:0,loading:!1,error:null,dataMovieById:null,offsetMovie:0,limitMovie:12},L=Object(D.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INPUT_VALUE":return Object(H.a)(Object(H.a)({},e),{},{inputValue:t.payload});case"CHANGE_STATE_SEARCH_OPTION":return Object(H.a)(Object(H.a)({},e),{},{searchOption:t.payload});case"CHANGE_STATE_SORT_OPTION":return Object(H.a)(Object(H.a)({},e),{},{sortOption:t.payload,offsetMovie:0});case"RESET_STATE_SORT_OPTION":return Object(H.a)(Object(H.a)({},e),{},{sortOption:""});case"GET_MOVIE_SUCCESS":return Object(H.a)(Object(H.a)({},e),{},{dataMovies:t.payload.dataMovies,totalMovies:t.payload.totalMovies,loading:!1});case"GET_MOVIE_FAILURE":return Object(H.a)(Object(H.a)({},e),{},{error:t.payload,loading:!1});case"GET_MOVIE_BY_ID_REQUEST":return Object(H.a)(Object(H.a)({},e),{},{loading:!0});case"GET_MOVIE_BY_ID_SUCCESS":return Object(H.a)(Object(H.a)({},e),{},{dataMovieById:t.payload,loading:!1});case"ADD_MOVIE_TO_STORE_SUCCESS":return Object(H.a)(Object(H.a)({},e),{},{dataMovies:[].concat(Object(P.a)(e.dataMovies),Object(P.a)(t.payload.dataMovies)),loading:!1,offsetMovie:t.payload.offsetMovie});case"RESET_DATA_MOVIE_MODAL":return Object(H.a)(Object(H.a)({},e),{},{dataMovieById:null});default:return e}}),Object(W.composeWithDevTools)(Object(D.applyMiddleware)((function(e){return function(t){return function(a){var n,o=a.payload&&a.payload.inputValue,r=a.payload&&a.payload.searchOption,c=a.payload&&a.payload.sortOption,s=a.payload,i=e.getState(),l=i.offsetMovie,u=i.limitMovie;return"GET_MOVIE_REQUEST"===a.type&&x(o,r,c,l,u).then((function(t){var a=t.data,n=t.total;e.dispatch({type:"GET_MOVIE_SUCCESS",payload:{dataMovies:a,totalMovies:n}})})).catch((function(t){e.dispatch({type:"GET_MOVIE_FAILURE",payload:t.message})})),"ADD_MOVIE_TO_STORE_REQUEST"===a.type&&x(o,r,c,l+=u,u).then((function(t){var a=t.data;e.dispatch({type:"ADD_MOVIE_TO_STORE_SUCCESS",payload:{dataMovies:a,offsetMovie:l}})})).catch((function(t){e.dispatch({type:"GET_MOVIE_FAILURE",payload:t.message})})),"GET_MOVIE_BY_ID_REQUEST"===a.type&&(n=s,fetch("https://reactjs-cdp.herokuapp.com/movies/".concat(n)).then((function(e){return e.json()}))).then((function(t){e.dispatch({type:"GET_MOVIE_BY_ID_SUCCESS",payload:t})})).catch((function(t){e.dispatch({type:"GET_MOVIE_FAILURE",payload:t.message})})),t(a)}}}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s.a,{store:L},o.a.createElement(i.a,null,o.a.createElement(G,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.74aa3f34.chunk.js.map